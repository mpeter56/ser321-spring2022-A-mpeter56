// set as java application
apply plugin: 'application'

repositories {
    mavenCentral()
}

dependencies {
   // https://mvnrepository.com/artifact/org.json/json
compile group: 'org.json', name: 'json', version: '20200518'
}


//define main class
mainClassName = 'Quotes'

// task will run TCPServer with default parameters
// can be overwritten with: gradle TCPServer -Pport='port'
task TCPServer(type: JavaExec) {
  group 'tcp'
  description 'Runs the server for the quote guessing game'

  classpath = sourceSets.main.runtimeClasspath

  main = 'Assignment3Starter.Server'
  
  if (project.hasProperty("port")){
  	args(project.getProperty('port'));
  } else{
  	args(8080);
  }
  
 // standardInput = System.in
}

//task will run TCPClient with default paramaters
// can be overwritten with: gradle TCPClient -Pport='port' -Phost='host'
task TCPClient(type: JavaExec) {
  group 'tcp'
  description 'Displays a GUI for a game of quote guessing'

  classpath = sourceSets.main.runtimeClasspath

  main = 'Assignment3Starter.ClientGui'
  
  if (project.hasProperty("port") && project.hasProperty("host")){
  	args(project.getProperty('port'), project.getProperty('host'));
  }else if(project.hasProperty("port") && !project.hasProperty("host")){
  	args(project.getProperty('port'), "localhost");
  }else if(!project.hasProperty("port") && project.hasProperty("host")){
  	args( 8080 , project.getProperty('host'));
  }else{
  	args(8080, "localhost");
  }
  //standardInput = System.in
}

